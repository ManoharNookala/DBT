DBT:
  target: "{{ env_var('DBT_TARGET', 'staging') }}"  # ✅ Defaults to 'staging' if not set
  outputs:
    staging:  # ✅ Staging target (Landing → Staging)
      type: bigquery
      method: service-account
      project: "{{ env_var('GCP_PROJECT_ID') }}"  # ✅ Use environment variable for flexibility
      dataset: staging
      threads: 4  # ✅ Adjust based on performance needs
      keyfile: "{{ env_var('GCP_CREDENTIALS') }}"

    odp_final:  # ✅ Final dataset (Staging → ODP)
      type: bigquery
      method: service-account
      project: "{{ env_var('GCP_PROJECT_ID') }}"
      dataset: odp
      threads: 4
      keyfile: "{{ env_var('GCP_CREDENTIALS') }}"
